
@import './styles/base.css';
@import './styles/typography.css';
@import './styles/typography-mixins.css';
@import './styles/components.css';
@import './styles/animations.css';
@import './styles/keyframes.css';

/* Tailwind layers */
@tailwind components;
@tailwind utilities;

/* Global scrolling fixes */
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overscroll-behavior-y: none;
  position: relative;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

/* Root containers need to handle scrolling */
#root, #__next, .app-container, main {
  position: relative;
  overflow-x: hidden;
  overflow-y: auto;
  width: 100%;
  height: 100%;
  overscroll-behavior-y: none;
  touch-action: pan-y;
  -webkit-overflow-scrolling: touch;
}

/* Desktop pricing toggle styles with enhanced borders and interactions */
.pricing-toggle-container {
  border-radius: 9999px; /* Full rounded corners */
  overflow: hidden;
  padding: 3px;
  background-color: rgba(241, 245, 249, 0.7); /* Slate-100 with transparency */
  backdrop-filter: blur(8px);
  box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, 0.05), 0 2px 6px rgba(0, 0, 0, 0.03);
  display: flex;
  width: 100%;
  max-width: 100%;
  margin: 0 auto;
  position: relative;
  transition: all 0.3s ease;
}

.pricing-toggle-container:hover {
  box-shadow: inset 0 1px 2px 0 rgba(0, 0, 0, 0.05), 0 4px 8px rgba(0, 0, 0, 0.05);
}

.pricing-toggle-button {
  border-radius: 9999px;
  padding: 0.625rem 1.25rem;
  font-weight: 500;
  flex: 1;
  text-align: center;
  position: relative;
  z-index: 20;
  transition: color 0.3s ease, background-color 0.2s ease;
  min-height: 40px;
}

.pricing-toggle-slider {
  position: absolute;
  height: calc(100% - 6px);
  width: calc(50% - 3px);
  background-color: white;
  border-radius: 9999px;
  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.08);
  top: 3px;
  left: 3px;
  transform: translateX(0);
}

.pricing-toggle-slider:hover {
  box-shadow: 0 3px 10px 0 rgba(0, 0, 0, 0.1);
}

.price-animation {
  animation: pulse 1s ease-in-out;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Remove any third tab styling if it exists */
.pricing-toggle-container > button:nth-child(3) {
  display: none;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
    overflow-y: auto !important; /* Ensure vertical scrolling works */
    height: auto !important; /* Prevent fixed height issues */
    position: static !important; /* Prevent fixed positioning issues */
    touch-action: manipulation !important; /* Better touch handling */
    -webkit-overflow-scrolling: touch !important; /* Smooth scrolling on iOS */
    overscroll-behavior-y: none !important; /* Prevent pull-to-refresh */
  }
  
  /* Fix for root containers on mobile */
  #root, #__next, .app-container, main, [data-reactroot], [id^="__reactContainer"] {
    width: 100vw !important;
    max-width: 100vw !important;
    position: relative !important;
    overflow-x: hidden !important;
    overflow-y: auto !important;
    touch-action: pan-y !important;
    overscroll-behavior-y: none !important;
    -webkit-overflow-scrolling: touch !important;
    height: auto !important;
    min-height: 100% !important;
  }
  
  /* Global fix for all sections and containers */
  section, div, main, article, aside, nav {
    touch-action: pan-y !important; /* Allow vertical scrolling */
    overscroll-behavior: none !important; /* Prevent scroll trapping */
    -webkit-user-select: none !important; /* Prevent text selection issues */
    user-select: none !important; /* Prevent text selection issues */
    border-width: 0 !important; /* Remove all borders that might show as dividers */
  }
  
  /* Fix section transitions on mobile */
  section + section,
  section + div,
  div + section,
  [style*="gradient"] {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
    border-image: none !important;
  }
  
  /* Fix for passive event listeners with JS */
  * {
    touch-action: manipulation;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Add passive scroll indicator to body */
  body:after {
    content: "";
    display: block;
    position: fixed;
    width: 1px;
    height: 1px;
    background: transparent;
    bottom: 0;
    right: 0;
    z-index: -9999;
    will-change: transform;
  }
  
  /* Ensure all scrollable containers don't trap scrolling */
  .overflow-auto, .overflow-y-auto, .overflow-scroll, .overflow-y-scroll,
  [class*="overflow-"], [style*="overflow:"], [style*="overflow-y:"],
  div[style*="overflow"], div[style*="overflow-y"] {
    -webkit-overflow-scrolling: touch !important; /* Ensure smooth scrolling */
    overscroll-behavior: none !important; /* Prevent scroll chaining/trapping */
    touch-action: pan-y !important; /* Allow only vertical scrolling */
    max-height: none !important; /* Prevent fixed height issues */
    pointer-events: auto !important; /* Ensure events pass through */
  }
  
  /* Fix for fixed/absolute height containers which might trap scrolling */
  [class*="h-["], [class*="max-h-["], [class*="min-h-["], 
  [style*="height:"], [style*="max-height:"], [style*="min-height:"],
  .h-screen, .min-h-screen, .h-full, .min-h-full,
  .fixed, .absolute, .sticky {
    touch-action: pan-y !important;
    overscroll-behavior: none !important;
    -webkit-overflow-scrolling: touch !important;
    pointer-events: auto !important;
  }
  
  /* Fix for features section and all buttons used as cards */
  button.w-full, motion.button, [role="button"],
  div[onclick], button[onclick], [class*="motion-"], 
  .react-transform-component, .transform-gpu {
    touch-action: pan-y !important; /* Allow vertical scrolling */
    user-select: none !important; /* Prevent text selection */
    -webkit-user-select: none !important; /* Prevent text selection */
    overscroll-behavior: none !important; /* Prevent scroll trapping */
    pointer-events: auto !important; /* Interactive but don't block scrolling */
  }
  
  /* Fix for Framer Motion elements that may be blocking scroll */
  .framer-motion, .motion-div, [class*="framer-"], [style*="framer"] {
    touch-action: pan-y !important;
    pointer-events: auto !important;
    overscroll-behavior: none !important;
  }
  
  /* Additional classes to fix common motion issues */
  .touch-action-pan-y {
    touch-action: pan-y !important;
  }
  
  .overscroll-behavior-none {
    overscroll-behavior: none !important;
  }
  
  /* Apply to all interactive elements to prevent scroll interference */
  a, button, input, select, textarea, [role="button"], [tabindex]:not([tabindex="-1"]) {
    touch-action: manipulation !important; /* Better touch handling */
  }
  
  main {
    padding-left: 0 !important;
    padding-right: 0 !important;
    padding-bottom: 2rem !important; /* Added space at the bottom */
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  /* Specific fix for section transitions/dividers */
  [style*="linear-gradient"], 
  [style*="fromColor"], 
  [style*="toColor"],
  .w-full.overflow-hidden.relative.z-20 {
    border: none !important;
    border-top: none !important;
    border-bottom: none !important;
    outline: none !important;
    box-shadow: none !important;
  }
  
  .find-creators-section {
    width: 100vw !important;
    max-width: 100vw !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    overflow-x: hidden !important;
    background-color: #F9F6EC !important; /* Explicit tan background */
    border: none !important;
    border-top: none !important;
    border-bottom: none !important;
    outline: none !important;
    box-shadow: none !important;
    z-index: 1 !important; /* Ensure it's above any hidden dividers */
  }
  
  /* Only target section transitions - NOT content backgrounds */
  section[style*="bg-[#F9F6EC]"].w-full.overflow-hidden.relative.z-20,
  div[style*="gradient"].w-full.h-full,
  .w-full.overflow-hidden.relative.z-20 {
    border: none !important;
    outline: none !important;
    box-shadow: none !important;
  }
  
  /* Specific fix for the tan divider above footer on mobile */
  @media (max-width: 768px) {
    section + section {
      margin-top: 0 !important;
      padding-top: 0 !important;
      border-top: none !important;
    }
    
    section:last-of-type {
      margin-bottom: 0 !important;
      padding-bottom: 0 !important;
    }
  }
  
  .mobile-px-adjust {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  
  .mobile-py-adjust {
    padding-top: 1.25rem !important;
    padding-bottom: 1.25rem !important;
  }
  
  .mobile-gap-adjust {
    gap: 0.75rem !important;
  }
  
  .mobile-text-center {
    text-align: center;
  }
  
  /* Mobile animation optimization helpers */
  .gpu-accelerated {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000;
    perspective: 1000;
  }
  
  .translate-z-0 {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
  
  .backface-visibility-hidden {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
  }
  
  /* Improved transitions for mobile */
  .mobile-optimize {
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}
